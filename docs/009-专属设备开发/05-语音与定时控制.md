# 语音控制  

## App语音控制
App中，通过 **开发者>专属设备>专属设备设置>语音配置** ，可以编辑语音控制指令。  
### 指令设置  
指令以json格式设置，其中**cmd**为语音指令，**act**为指令触发的动作内容。  
```json
[
    {"cmd": "天王盖地虎", "act": "{\"clz\":\"tap\"}"},
    {"cmd": "宝塔镇河妖", "act": "{\"blinker\":\"tap\"}"},
    { "cmd": "打开?room的?name", "act": "{\"btn-a\":\"on\"}" },
    { "cmd": "关闭?room的?name", "act": "{\"btn-a\":\"off\"}" }
]
```
注意事项：
1.如果多个设备拥有相同的语音指令，将只能控制系统首先发现的设备，因此请自行确认指令没有重复  
2.act中的值为字符串，其中双引号需要添加转义符  

### 语音变量支持
变量以“?”开头，当前支持的变量如下    
```
?name  设备名
?room  设备所在房间/区域
```
如一个名为**插座**的设备放置**客厅**，且语音指令设置为 **打开?room的?name**，则该指令将被解析为 **打开客厅的插座**  

### 智能音响语音控制  
详见[智能音箱接入](?file=004-特有功能/00-智能音箱接入 "智能音箱接入")  

## 定时控制  
App中，通过 **开发者>专属设备>专属设备设置>定时配置** ，可以编辑定时控制指令。  
### 指令设置  
指令以json格式设置，其中**cmd**为指令名称，**act**为指令触发的动作内容。  
```json
[
    {"cmd": "天王盖地虎", "act": "{\"clz\":\"tap\"}"},
    {"cmd": "宝塔镇河妖", "act": "{\"blinker\":\"tap\"}"},
    { "cmd": "打开?name", "act": "{\"btn-a\":\"on\"}" },
    { "cmd": "关闭?name", "act": "{\"btn-a\":\"off\"}" }
]
```
注意事项：
1.如果一个设备拥有多个相同的指令，将只能显示系统首先发现的指令，因此请自行确认指令没有重复。  
2.act中的值为字符串，其中双引号需要添加转义符  

### 定时变量支持
变量以“?”开头，当前支持的变量如下    
```
?name  设备名
```
如一个名为**智能插座**的设备，且定时指令设置为 **打开?name**，则该指令将被解析为 **打开智能插座**  
